<!DOCTYPE html>
<html data-html-server-rendered="true" lang="en" data-vue-tag="lang">
  <head>
    <title data-vue-tag="true">Blazegraph - Immortal Monkey</title><meta data-vue-tag="true" charset="utf-8"/><meta data-vue-tag="true" name="generator" content="Gridsome v0.5.5"/><meta data-vue-tag="true" data-key="viewport" name="viewport" content="width=device-width, initial-scale=1, viewport-fit=cover"/><meta data-vue-tag="true" data-key="description" name="description" content="Immortal Monkey Software Company"/><meta data-vue-tag="true" data-key="format-detection" name="format-detection" content="telephone=no"/><meta data-vue-tag="true" name="description" content="The pyin reasoner produces a proof trace with added debugging information, and can save this into a SPARQL-enabled triplestore. We have chosen Blazegraph to store the data."/><link data-vue-tag="true" rel="icon" type="image/png" sizes="16x16" href="/assets/static/favicon.ce0531f.9bb7ffa.png"/><link data-vue-tag="true" rel="icon" type="image/png" sizes="32x32" href="/assets/static/favicon.ac8d93a.9bb7ffa.png"/><link data-vue-tag="true" rel="icon" type="image/png" sizes="96x96" href="/assets/static/favicon.b9532cc.9bb7ffa.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="76x76" href="/assets/static/favicon.f22e9f3.9bb7ffa.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="152x152" href="/assets/static/favicon.62d22cb.9bb7ffa.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="120x120" href="/assets/static/favicon.1539b60.9bb7ffa.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="167x167" href="/assets/static/favicon.dc0cdc5.9bb7ffa.png"/><link data-vue-tag="true" rel="apple-touch-icon" type="image/png" sizes="180x180" href="/assets/static/favicon.7b22250.9bb7ffa.png"/><noscript data-vue-tag="true" ><style>.g-image--loading{display:none;}</style></noscript><link rel="preload" href="/assets/css/0.styles.8ebddbe7.css" as="style"><link rel="preload" href="/assets/js/app.debb7aef.js" as="script"><link rel="preload" href="/assets/js/component--post.b5fd2472.js" as="script"><link rel="prefetch" href="/assets/js/component--404.9c537283.js"><link rel="prefetch" href="/assets/js/component--blog.51f76ea2.js"><link rel="prefetch" href="/assets/js/component--home.d36b4ade.js"><link rel="prefetch" href="/assets/js/component--tag.2bd6fc2b.js"><link rel="prefetch" href="/assets/js/page-query.32c1fbe7.js"><link rel="stylesheet" href="/assets/css/0.styles.8ebddbe7.css">
    <link href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.2/css/bootstrap.min.css" rel="stylesheet" type="text/css" />
    <link rel="stylesheet" type="text/css" href="/style.css" />
    <link rel="stylesheet" type="text/css" href="/nav-style.css" />
  </head>
  <body data-vue-tag="">
    <div id="app" data-server-rendered="true"><nav class="navbar navbar-default full-width-container navbar-default-custom"><div class="container-fluid"><input type="checkbox" id="navbar-toggle-cbox"><div class="navbar-header"><label for="navbar-toggle-cbox" class="navbar-toggle collapsed"><span class="sr-only">Toggle navigation</span><span class="icon-bar"></span><span class="icon-bar"></span><span class="icon-bar"></span></label><a href="/" class="navbar-brand">Immortal Monkey</a></div><div id="navbar" class="navbar-collapse collapse"><ul class="nav navbar-nav"><li id="nav-about"><a href="/#about" class="nav-link">About</a></li><li id="nav-services"><a href="/#services" class="nav-link">Services</a></li><li id="nav-blog"><a href="/blog" class="nav-link">Blog</a></li><li id="nav-contact"><a href="#contact" class="nav-link">Contact</a></li></ul></div></div></nav><main class="main"><div class="post-title"><h1 class="post-title__text">
      Blazegraph
    </h1><div class="post-meta">
   Posted 7. February 2019.
   <strong>1 min read.</strong></div></div><div class="post content-box"><div class="post__header"><!----></div><div class="post__content"><p><a href="https://github.com/koo5/univar/blob/master/pyin/kbdbg2graphviz3.py" target="_blank" rel="nofollow noopener noreferrer">A fairly simple script</a>. The pyin reasoner produces a proof trace with added debugging information, and can save this into a SPARQL-enabled triplestore. We have chosen <a href="https://github.com/blazegraph/blazegraph-python" target="_blank" rel="nofollow noopener noreferrer">Blazegraph</a> to store the data through.</p>
<p>The write performance was good, but as the database reached gigabyte ranges, the read performance was a problem. The issue was with rule descriptions. Even with caching, they first had to be traversed, which entailed many requests, and there was no obvious way to create more complex queries to reduce the traversal time. One solution would be to store this special data as a single blob of text, another would be to have one wildcard query return all the relevant triples, and processing the in the client. Neither solution was eventually implemented, as development has already moved on to a new version of the reasoner, with a different query debugging mechanism.</p>
<p>Another takeaway concerns a seemingly fundamental issue with RDF, namely triples about triples. In RDF, every triple is part of a graph, also called context. Unlike in graph databases like Neo4j, it is not possible to talk about triples directly. This leads to the need to assign an unique context identifier to every triple, or build things in such a way that any triple can, in case we want to reference it, be singled out and assigned this unique context. We need a list of relevant contexts, or a rule expressible in SPARQL that tells the query engine which contexts should be considered.</p>
<p>Our next RDF application will probably be built that way.</p>
<p>The other part of this script was easy. The data was fetched in parallel, in batches, and fed into a converter that singled out each reasoning step and generated a graphviz file with the state of the reasoner at that time. The graphviz file was then layouted. Originally PNG images were generated, but we found it better to let the image viewing application (geeqie) handle this.</p>
</div><div class="post__footer"><div class="post-tags"><a href="/tag/markdown" class="post-tags__link"><span>#</span> Markdown
		</a><a href="/tag/releases" class="post-tags__link"><span>#</span> Releases
		</a></div></div></div><div class="post-comments"></div></main><footer id="footer-main"><div id="contact"></div><span>Site designed by <a href="index.html">Immortal Monkey Software.</a></span><span class="footer__copyright">Copyright Â© 2019.</span></footer></div>
  </body>
</html>
